# AutoVanLite 소스 구조 개선 사항

## 🔍 현재 구조의 문제점

### 1. **컴포넌트 위치의 일관성 부족** ⚠️

```
app/components/          # 대시보드 페이지 전용 섹션들
├── auto-sms-section.tsx
├── bulk-report-send-section.tsx
├── daily-chart-section.tsx
├── monthly-savings-section.tsx
├── monthly-template-section.tsx
├── simple-installation-gauge.tsx
└── sms-push-trend-section.tsx

components/sections/     # 중복된 목적의 폴더
├── calendar-section.tsx
├── manual-send-section.tsx
└── monthly-template-section.tsx  # 중복 파일!
```

**문제:**
- `monthly-template-section.tsx`가 두 곳에 중복 존재
- `app/components`와 `components/sections`의 역할 구분이 불명확
- 같은 성격의 섹션 컴포넌트들이 분산되어 있음

### 2. **명명 규칙 불일치** 📝

```
app/components/hero.tsx           # 소문자
app/components/preView.tsx        # camelCase (PreView가 더 적절)
app/components/auto-sms-section.tsx  # kebab-case
```

**문제:** 파일 명명 규칙이 혼재되어 있음

### 3. **export 방식의 불일치** 🔄

```typescript
// Default export
export default function SimpleInstallationGauge() {}

// Named export
export function SmsPushTrendSection() {}
```

**문제:** 일부는 default export, 일부는 named export로 일관성이 없음

---

## 💡 권장하는 개선 방안

### Option 1: 페이지 기반 구조 (추천)

```
components/
├── ui/              # 재사용 가능한 기본 UI 컴포넌트
├── layout/          # 레이아웃 컴포넌트
├── modals/          # 모달 컴포넌트
├── dashboard/       # 대시보드 페이지 전용 섹션
│   ├── hero-section.tsx
│   ├── preview-section.tsx
│   ├── installation-gauge-section.tsx
│   ├── monthly-savings-section.tsx
│   ├── bulk-report-section.tsx
│   ├── auto-sms-section.tsx
│   ├── monthly-template-section.tsx
│   ├── sms-push-trend-section.tsx
│   └── daily-chart-section.tsx
└── shared/          # 여러 페이지에서 공유되는 섹션
    ├── calendar-section.tsx
    └── manual-send-section.tsx
```

**장점:**
- 페이지별로 컴포넌트를 명확하게 분리
- 대시보드 전용과 공유 컴포넌트를 구분
- 확장성이 좋음 (새 페이지 추가 시 dashboard 옆에 새 폴더 추가)

### Option 2: 기능 기반 구조

```
features/
├── dashboard/
│   ├── components/
│   │   ├── HeroSection.tsx
│   │   ├── InstallationGauge.tsx
│   │   └── ...
│   ├── hooks/
│   └── utils/
├── messaging/
│   ├── components/
│   │   ├── ManualSendSection.tsx
│   │   └── ...
│   ├── hooks/
│   └── types/
└── analytics/
    └── components/
        ├── DailyChartSection.tsx
        └── SmsPushTrendSection.tsx
```

**장점:**
- 기능별로 관련 파일들이 함께 위치
- 각 feature가 독립적으로 관리 가능
- 대규모 프로젝트에 적합

---

## 📋 즉시 수정 가능한 사항

### 1. 중복 파일 제거

```bash
# components/sections/monthly-template-section.tsx 삭제
# (app/components/ 버전만 유지)
```

### 2. 파일명 통일

```
preView.tsx → preview-section.tsx
hero.tsx → hero-section.tsx
```

**통일 규칙:** 모든 파일명을 kebab-case로 작성

### 3. Export 방식 통일

모든 섹션 컴포넌트를 **default export**로 통일 권장:

```typescript
// ✅ 일관성 있는 방식
export default function HeroSection() {}

// ❌ 혼재된 방식 지양
export function SmsPushTrendSection() {}
```

### 4. 폴더 정리

```
app/components/ 삭제 → components/dashboard/로 이동
components/sections/ 삭제 → components/shared/로 이동
```

---

## 🎯 우선순위별 작업 계획

### High Priority (즉시 수정 권장)

1. ✅ 중복 파일 제거 (`monthly-template-section.tsx`)
2. ✅ 명명 규칙 통일 (모든 파일명을 kebab-case로)
3. ✅ Export 방식 통일 (default export로 통일)

### Medium Priority (리팩토링 단계)

4. 컴포넌트를 `components/dashboard/`와 `components/shared/`로 재구성
5. Import 경로 수정 및 검증
6. 사용하지 않는 파일 정리

### Low Priority (최적화 단계)

7. 타입 정의를 각 컴포넌트 파일에서 `types/` 폴더로 분리
8. 재사용 가능한 로직을 custom hooks로 추출
9. 컴포넌트 단위 테스트 작성

---

## 📁 현재 디렉토리 구조

```
.
├── app/
│   ├── components/          # 대시보드 섹션들 (정리 필요)
│   ├── layout.tsx
│   └── page.tsx
├── components/
│   ├── layout/             # 레이아웃 컴포넌트
│   ├── modals/             # 모달 컴포넌트
│   ├── pages/              # 페이지 컴포넌트
│   ├── sections/           # 공유 섹션 (정리 필요)
│   └── ui/                 # UI 컴포넌트
├── contexts/               # Context API
├── hooks/                  # Custom Hooks
├── lib/                    # 유틸리티 함수
├── mocks/                  # Mock 데이터
├── types/                  # TypeScript 타입 정의
└── public/                 # 정적 파일
```

---

## 🚀 마이그레이션 가이드

### Step 1: 중복 파일 제거

```bash
# 백업
cp components/sections/monthly-template-section.tsx components/sections/monthly-template-section.tsx.backup

# 삭제 (app/components 버전 사용)
rm components/sections/monthly-template-section.tsx
```

### Step 2: 새 폴더 구조 생성

```bash
mkdir -p components/dashboard
mkdir -p components/shared
```

### Step 3: 파일 이동

```bash
# Dashboard 전용 컴포넌트 이동
mv app/components/hero.tsx components/dashboard/hero-section.tsx
mv app/components/preView.tsx components/dashboard/preview-section.tsx
mv app/components/simple-installation-gauge.tsx components/dashboard/installation-gauge-section.tsx
mv app/components/monthly-savings-section.tsx components/dashboard/
mv app/components/bulk-report-send-section.tsx components/dashboard/
mv app/components/auto-sms-section.tsx components/dashboard/
mv app/components/monthly-template-section.tsx components/dashboard/
mv app/components/sms-push-trend-section.tsx components/dashboard/
mv app/components/daily-chart-section.tsx components/dashboard/

# 공유 컴포넌트 이동
mv components/sections/calendar-section.tsx components/shared/
mv components/sections/manual-send-section.tsx components/shared/

# 빈 폴더 삭제
rmdir app/components
rmdir components/sections
```

### Step 4: Import 경로 수정

```typescript
// Before
import Hero from "./components/hero";
import { SmsPushTrendSection } from "./components/sms-push-trend-section";

// After
import HeroSection from "@/components/dashboard/hero-section";
import SmsPushTrendSection from "@/components/dashboard/sms-push-trend-section";
```

### Step 5: Export 방식 통일

모든 컴포넌트를 default export로 변경:

```typescript
// sms-push-trend-section.tsx
// Before: export function SmsPushTrendSection() {}
// After: export default function SmsPushTrendSection() {}
```

---

## ✅ 체크리스트

- [ ] 중복 파일 제거 완료
- [ ] 파일명 kebab-case로 통일
- [ ] Export 방식 default로 통일
- [ ] 폴더 구조 재구성 (`dashboard/`, `shared/`)
- [ ] Import 경로 전체 수정
- [ ] 빌드 에러 없이 정상 작동 확인
- [ ] 불필요한 폴더 제거
- [ ] 타입 정의 분리 (선택)
- [ ] Custom hooks 추출 (선택)

---

## 📝 참고 사항

### 명명 규칙

- **파일명:** kebab-case (`hero-section.tsx`)
- **컴포넌트명:** PascalCase (`HeroSection`)
- **폴더명:** kebab-case (`dashboard/`)

### Import 경로 alias

현재 프로젝트에서 사용 중인 alias:

```typescript
@/components → components/
@/contexts → contexts/
@/hooks → hooks/
@/lib → lib/
@/types → types/
```

### Git 작업 시 주의사항

```bash
# 파일 이동 시 git mv 사용 (히스토리 보존)
git mv app/components/hero.tsx components/dashboard/hero-section.tsx

# 변경 사항 확인
git status

# 단계별 커밋 권장
git commit -m "refactor: reorganize component structure - step 1"
```

---

**작성일:** 2025-10-13
**작성자:** Claude Code Analysis
